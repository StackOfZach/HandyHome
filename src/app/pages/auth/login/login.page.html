<ion-content
  class="bg-gradient-to-br from-handy-blue-50 via-white to-handy-yellow-50 min-h-screen"
>
  <div
    class="flex items-center justify-center min-h-screen p-4 relative overflow-hidden"
  >
    <!-- Background Decorative Elements -->
    <div
      class="absolute top-20 left-10 w-20 h-20 bg-handy-yellow-200 rounded-full opacity-20 animate-float"
    ></div>
    <div
      class="absolute top-40 right-16 w-16 h-16 bg-handy-blue-200 rounded-full opacity-30 animate-bounce-slow"
    ></div>
    <div
      class="absolute bottom-32 left-20 w-12 h-12 bg-handy-yellow-300 rounded-full opacity-25 animate-pulse-slow"
    ></div>
    <div
      class="absolute bottom-20 right-8 w-24 h-24 bg-handy-blue-100 rounded-full opacity-20 animate-float"
    ></div>

    <div class="w-full max-w-md relative z-10">
      <!-- Logo/Header Section -->
      <div class="text-center mb-8 animate-slide-up">
        <!-- HandyHome Logo -->
        <div class="mx-auto mb-8 relative">
          <img
            src="assets/HandyHome.png"
            alt="HandyHome Logo"
            class="w-40 h-40 mx-auto transform hover:scale-105 transition-transform duration-300 drop-shadow-2xl"
            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'"
          />
          <!-- Fallback icon if logo not found -->
          <div
            class="w-40 h-40 bg-gradient-to-br from-handy-blue-500 to-handy-blue-600 rounded-3xl hidden items-center justify-center shadow-2xl transform rotate-3 hover:rotate-0 transition-transform duration-300"
          >
            <ion-icon name="home" class="text-5xl text-white"></ion-icon>
          </div>
        </div>

        <p
          class="text-handy-navy-600 text-xl font-bold flex items-center justify-center"
        >
          <ion-icon
            name="hand-right-outline"
            class="mr-2 text-handy-blue-500"
          ></ion-icon>
          Welcome back!
        </p>
        <p class="text-handy-navy-500 text-sm">Sign in to your account</p>
      </div>

      <!-- Login Form Card -->
      <div
        class="bg-white/80 backdrop-blur-md rounded-3xl shadow-2xl p-8 border border-white/20 animate-fade-scale"
      >
        <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
          <!-- Email Input -->
          <div class="mb-6">
            <label
              for="email"
              class="block text-sm font-semibold text-handy-navy-700 mb-3 flex items-center"
            >
              <ion-icon
                name="mail-outline"
                class="mr-2 text-handy-blue-500"
              ></ion-icon>
              Email Address
            </label>
            <div class="relative">
              <input
                id="email"
                type="email"
                formControlName="email"
                placeholder="Enter your email address"
                class="p-4 border-2 border-gray-200 rounded-2xl w-full shadow-sm focus:ring-4 focus:ring-handy-blue-200 focus:border-handy-blue-500 transition-all duration-300 text-handy-navy-700 placeholder-gray-400 bg-white/70"
                [class.border-red-400]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
                [class.focus:ring-red-200]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
              />
              <div
                *ngIf="loginForm.get('email')?.valid && loginForm.get('email')?.touched"
                class="absolute right-4 top-1/2 transform -translate-y-1/2"
              >
                <ion-icon
                  name="checkmark-circle"
                  class="text-green-500 text-xl"
                ></ion-icon>
              </div>
            </div>
            <div
              *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
              class="text-red-500 text-sm mt-2 flex items-center"
            >
              <ion-icon name="warning-outline" class="mr-1"></ion-icon>
              <span *ngIf="loginForm.get('email')?.errors?.['required']"
                >Email is required</span
              >
              <span *ngIf="loginForm.get('email')?.errors?.['email']"
                >Please enter a valid email</span
              >
            </div>
          </div>

          <!-- Password Input -->
          <div class="mb-8">
            <label
              for="password"
              class="block text-sm font-semibold text-handy-navy-700 mb-3 flex items-center"
            >
              <ion-icon
                name="lock-closed-outline"
                class="mr-2 text-handy-blue-500"
              ></ion-icon>
              Password
            </label>
            <div class="relative">
              <input
                id="password"
                type="password"
                formControlName="password"
                placeholder="Enter your password"
                class="p-4 border-2 border-gray-200 rounded-2xl w-full shadow-sm focus:ring-4 focus:ring-handy-blue-200 focus:border-handy-blue-500 transition-all duration-300 text-handy-navy-700 placeholder-gray-400 bg-white/70"
                [class.border-red-400]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
                [class.focus:ring-red-200]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
              />
              <div
                *ngIf="loginForm.get('password')?.valid && loginForm.get('password')?.touched"
                class="absolute right-4 top-1/2 transform -translate-y-1/2"
              >
                <ion-icon
                  name="checkmark-circle"
                  class="text-green-500 text-xl"
                ></ion-icon>
              </div>
            </div>
            <div
              *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
              class="text-red-500 text-sm mt-2 flex items-center"
            >
              <ion-icon name="warning-outline" class="mr-1"></ion-icon>
              <span *ngIf="loginForm.get('password')?.errors?.['required']"
                >Password is required</span
              >
              <span *ngIf="loginForm.get('password')?.errors?.['minlength']"
                >Password must be at least 6 characters</span
              >
            </div>
          </div>

          <!-- Login Button -->
          <button
            type="submit"
            [disabled]="!loginForm.valid || isLoading"
            class="w-full bg-gradient-to-r from-handy-blue-500 to-handy-blue-600 hover:from-handy-blue-600 hover:to-handy-blue-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-bold py-4 px-6 rounded-2xl shadow-xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl disabled:scale-100 disabled:cursor-not-allowed flex items-center justify-center text-lg"
          >
            <span *ngIf="!isLoading" class="flex items-center">
              <ion-icon name="log-in-outline" class="mr-2 text-xl"></ion-icon>
              Sign In
            </span>
            <span *ngIf="isLoading" class="flex items-center justify-center">
              <svg
                class="animate-spin -ml-1 mr-3 h-6 w-6 text-white"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
              >
                <circle
                  class="opacity-25"
                  cx="12"
                  cy="12"
                  r="10"
                  stroke="currentColor"
                  stroke-width="4"
                ></circle>
                <path
                  class="opacity-75"
                  fill="currentColor"
                  d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                ></path>
              </svg>
              Signing In...
            </span>
          </button>

          <!-- Divider -->
          <div class="my-8 flex items-center">
            <div class="flex-1 border-t border-gray-300"></div>
            <span
              class="px-6 text-handy-navy-500 text-sm font-medium bg-white rounded-full"
              >or</span
            >
            <div class="flex-1 border-t border-gray-300"></div>
          </div>

          <!-- Signup Link -->
          <div class="text-center">
            <p class="text-handy-navy-600 text-base font-medium mb-3">
              New to HandyHome?
            </p>
            <button
              type="button"
              (click)="goToSignup()"
              class="text-handy-blue-600 hover:text-handy-blue-700 font-semibold transition-colors duration-200 underline decoration-2 underline-offset-2 hover:decoration-handy-yellow-400 inline-flex items-center justify-center gap-1"
            >
              <ion-icon name="person-add-outline" class="text-sm"></ion-icon>
              Create Account
            </button>
          </div>
        </form>
      </div>

      <!-- Footer -->
      <div class="text-center mt-8">
        <p
          class="text-handy-navy-400 text-sm font-medium flex items-center justify-center gap-1"
        >
          Â© 2025 HandyHome. Made with
          <ion-icon name="heart" class="text-handy-blue-400"></ion-icon>
          for your home.
        </p>
      </div>
    </div>
  </div>
</ion-content>
