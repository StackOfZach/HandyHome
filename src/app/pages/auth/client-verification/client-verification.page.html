<ion-content
  class="bg-gradient-to-br from-handy-yellow-50 via-white to-handy-blue-50 min-h-screen"
>
  <div
    class="flex items-center justify-center min-h-screen p-4 relative overflow-hidden"
  >
    <!-- Background Decorative Elements -->
    <div
      class="absolute top-16 left-8 w-16 h-16 bg-handy-blue-200 rounded-full opacity-20 animate-bounce-slow"
    ></div>
    <div
      class="absolute top-32 right-12 w-20 h-20 bg-handy-yellow-200 rounded-full opacity-25 animate-float"
    ></div>
    <div
      class="absolute bottom-40 left-16 w-14 h-14 bg-handy-blue-300 rounded-full opacity-30 animate-pulse-slow"
    ></div>
    <div
      class="absolute bottom-16 right-20 w-18 h-18 bg-handy-yellow-300 rounded-full opacity-20 animate-float"
    ></div>

    <div class="w-full max-w-2xl relative z-10">
      <!-- Header -->
      <div class="text-center mb-8">
        <div class="mb-4">
          <div
            class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-handy-blue-500 to-handy-navy-600 rounded-2xl shadow-xl mb-4"
          >
            <ion-icon
              name="shield-checkmark-outline"
              class="text-3xl text-white"
            ></ion-icon>
          </div>
        </div>
        <h1
          class="text-4xl font-bold bg-gradient-to-r from-handy-blue-600 to-handy-navy-800 bg-clip-text text-transparent mb-2 font-poppins"
        >
          Account Verification
        </h1>
        <p
          class="text-handy-navy-600 text-base font-medium flex items-center justify-center"
        >
          <ion-icon
            name="information-circle-outline"
            class="mr-2 text-handy-blue-500"
          ></ion-icon>
          Complete your profile verification
        </p>
        <p class="text-handy-navy-500 text-sm">
          Upload your documents for account approval
        </p>
      </div>

      <!-- Verification Form Card -->
      <div
        class="bg-white/80 backdrop-blur-md rounded-3xl shadow-2xl p-6 border border-white/20 animate-fade-scale"
      >
        <form
          [id]="formId"
          [formGroup]="verificationForm"
          (ngSubmit)="submitVerification()"
          autocomplete="off"
        >
          <!-- ID Type Selection -->
          <div class="mb-6">
            <label
              for="idType"
              class="block text-sm font-semibold text-handy-navy-700 mb-2 flex items-center"
            >
              <ion-icon
                name="card-outline"
                class="mr-2 text-handy-blue-500"
              ></ion-icon>
              Valid ID Type
            </label>
            <div class="relative">
              <select
                id="idType"
                formControlName="idType"
                autocomplete="off"
                class="p-3 border-2 border-gray-200 rounded-xl w-full shadow-sm focus:ring-3 focus:ring-handy-blue-200 focus:border-handy-blue-500 transition-all duration-300 text-handy-navy-700 bg-white/70 appearance-none cursor-pointer"
              >
                <option value="">Select ID Type</option>
                <option value="drivers-license">Driver's License</option>
                <option value="passport">Passport</option>
                <option value="national-id">National ID</option>
                <option value="sss">SSS ID</option>
                <option value="philhealth">PhilHealth ID</option>
                <option value="postal">Postal ID</option>
                <option value="voters">Voter's ID</option>
              </select>
              <ion-icon
                name="chevron-down"
                class="absolute right-3 top-1/2 transform -translate-y-1/2 text-handy-navy-400 pointer-events-none"
              ></ion-icon>
            </div>
            <div
              *ngIf="verificationForm.get('idType')?.invalid && verificationForm.get('idType')?.touched"
              class="text-red-500 text-xs mt-1 flex items-center"
            >
              <ion-icon name="warning-outline" class="mr-1"></ion-icon>
              <span>Please select an ID type</span>
            </div>
          </div>

          <!-- ID Number -->
          <div class="mb-6">
            <label
              for="idNumber"
              class="block text-sm font-semibold text-handy-navy-700 mb-2 flex items-center"
            >
              <ion-icon
                name="keypad-outline"
                class="mr-2 text-handy-blue-500"
              ></ion-icon>
              ID Number
            </label>
            <input
              type="text"
              id="idNumber"
              formControlName="idNumber"
              autocomplete="off"
              autocapitalize="off"
              autocorrect="off"
              spellcheck="false"
              data-form-type="other"
              placeholder="Enter your ID number"
              class="p-3 border-2 border-gray-200 rounded-xl w-full shadow-sm focus:ring-3 focus:ring-handy-blue-200 focus:border-handy-blue-500 transition-all duration-300 text-handy-navy-700 bg-white/70"
            />
            <div
              *ngIf="verificationForm.get('idNumber')?.invalid && verificationForm.get('idNumber')?.touched"
              class="text-red-500 text-xs mt-1 flex items-center"
            >
              <ion-icon name="warning-outline" class="mr-1"></ion-icon>
              <span>ID number is required</span>
            </div>
          </div>

          <!-- Address -->
          <div class="mb-6">
            <label
              for="address"
              class="block text-sm font-semibold text-handy-navy-700 mb-2 flex items-center"
            >
              <ion-icon
                name="location-outline"
                class="mr-2 text-handy-blue-500"
              ></ion-icon>
              Complete Address
            </label>
            <textarea
              id="address"
              formControlName="address"
              autocomplete="off"
              autocapitalize="off"
              autocorrect="off"
              spellcheck="false"
              data-form-type="other"
              placeholder="Enter your complete address"
              rows="3"
              class="p-3 border-2 border-gray-200 rounded-xl w-full shadow-sm focus:ring-3 focus:ring-handy-blue-200 focus:border-handy-blue-500 transition-all duration-300 text-handy-navy-700 bg-white/70 resize-none"
            ></textarea>
            <div
              *ngIf="verificationForm.get('address')?.invalid && verificationForm.get('address')?.touched"
              class="text-red-500 text-xs mt-1 flex items-center"
            >
              <ion-icon name="warning-outline" class="mr-1"></ion-icon>
              <span>Address is required</span>
            </div>
          </div>

          <!-- Birth Date -->
          <div class="mb-6">
            <label
              for="birthDate"
              class="block text-sm font-semibold text-handy-navy-700 mb-2 flex items-center"
            >
              <ion-icon
                name="calendar-outline"
                class="mr-2 text-handy-blue-500"
              ></ion-icon>
              Date of Birth
            </label>
            <input
              type="date"
              id="birthDate"
              formControlName="birthDate"
              autocomplete="off"
              data-form-type="other"
              class="p-3 border-2 border-gray-200 rounded-xl w-full shadow-sm focus:ring-3 focus:ring-handy-blue-200 focus:border-handy-blue-500 transition-all duration-300 text-handy-navy-700 bg-white/70"
            />
            <div
              *ngIf="verificationForm.get('birthDate')?.invalid && verificationForm.get('birthDate')?.touched"
              class="text-red-500 text-xs mt-1 flex items-center"
            >
              <ion-icon name="warning-outline" class="mr-1"></ion-icon>
              <span>Birth date is required</span>
            </div>
          </div>

          <!-- ID Image Upload -->
          <div class="mb-6">
            <label
              class="block text-sm font-semibold text-handy-navy-700 mb-2 flex items-center"
            >
              <ion-icon
                name="camera-outline"
                class="mr-2 text-handy-blue-500"
              ></ion-icon>
              Upload Valid ID
            </label>
            <div
              class="border-2 border-dashed border-gray-300 rounded-xl p-6 text-center bg-gray-50/50"
            >
              <div *ngIf="!idImageUrl" class="space-y-3">
                <ion-icon
                  name="cloud-upload-outline"
                  class="text-4xl text-handy-blue-400"
                ></ion-icon>
                <p class="text-handy-navy-600 font-medium">
                  Upload a clear photo of your ID
                </p>
                <button
                  type="button"
                  (click)="selectIdImage()"
                  class="bg-handy-blue-500 hover:bg-handy-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200"
                >
                  Choose Image
                </button>
              </div>
              <div *ngIf="idImageUrl" class="space-y-3">
                <img
                  [src]="idImageUrl"
                  alt="ID Image"
                  class="max-w-full h-48 object-contain mx-auto rounded-lg border-2 border-handy-blue-200"
                />
                <button
                  type="button"
                  (click)="selectIdImage()"
                  class="bg-handy-yellow-500 hover:bg-handy-yellow-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200"
                >
                  Change Image
                </button>
              </div>
            </div>
          </div>

          <!-- Profile Image Upload -->
          <div class="mb-8">
            <label
              class="block text-sm font-semibold text-handy-navy-700 mb-2 flex items-center"
            >
              <ion-icon
                name="person-circle-outline"
                class="mr-2 text-handy-blue-500"
              ></ion-icon>
              Take Profile Picture
            </label>
            <div
              class="border-2 border-dashed border-gray-300 rounded-xl p-6 text-center bg-gray-50/50"
            >
              <div *ngIf="!profileImageUrl" class="space-y-3">
                <ion-icon
                  name="person-add-outline"
                  class="text-4xl text-handy-blue-400"
                ></ion-icon>
                <p class="text-handy-navy-600 font-medium">
                  Take a clear photo of yourself
                </p>
                <button
                  type="button"
                  (click)="captureProfileImage()"
                  class="bg-handy-blue-500 hover:bg-handy-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200"
                >
                  Take Photo
                </button>
              </div>
              <div *ngIf="profileImageUrl" class="space-y-3">
                <img
                  [src]="profileImageUrl"
                  alt="Profile Image"
                  class="w-32 h-32 object-cover mx-auto rounded-full border-4 border-handy-blue-200"
                />
                <button
                  type="button"
                  (click)="captureProfileImage()"
                  class="bg-handy-yellow-500 hover:bg-handy-yellow-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200"
                >
                  Retake Photo
                </button>
              </div>
            </div>
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            [disabled]="!verificationForm.valid || !idImageUrl || !profileImageUrl || isLoading"
            class="w-full bg-gradient-to-r from-handy-yellow-500 to-handy-blue-500 hover:from-handy-yellow-600 hover:to-handy-blue-600 disabled:from-gray-400 disabled:to-gray-500 text-white font-bold py-4 px-6 rounded-2xl shadow-xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl disabled:scale-100 disabled:cursor-not-allowed flex items-center justify-center text-base"
          >
            <span *ngIf="!isLoading" class="flex items-center">
              <ion-icon
                name="shield-checkmark-outline"
                class="mr-2 text-xl"
              ></ion-icon>
              Submit for Verification
            </span>
            <span *ngIf="isLoading" class="flex items-center justify-center">
              <svg
                class="animate-spin -ml-1 mr-3 h-5 w-5 text-white"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
              >
                <circle
                  class="opacity-25"
                  cx="12"
                  cy="12"
                  r="10"
                  stroke="currentColor"
                  stroke-width="4"
                ></circle>
                <path
                  class="opacity-75"
                  fill="currentColor"
                  d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                ></path>
              </svg>
              Submitting...
            </span>
          </button>

          <!-- Information Note -->
          <div
            class="mt-6 bg-handy-blue-50 border-l-4 border-handy-blue-400 p-4 rounded-r-lg"
          >
            <div class="flex items-start">
              <ion-icon
                name="information-circle"
                class="text-handy-blue-400 mr-3 mt-0.5 text-lg"
              ></ion-icon>
              <div>
                <h4 class="text-handy-blue-800 font-semibold text-sm">
                  Important Information
                </h4>
                <p class="text-handy-blue-700 text-xs mt-1">
                  After submitting your verification, you will be logged out and
                  your account will be under review. You can log back in once
                  your account is approved by our admin team. This process
                  typically takes 1-2 business days.
                </p>
              </div>
            </div>
          </div>
        </form>
      </div>

      <!-- Back Button -->
      <div class="text-center mt-6">
        <button
          type="button"
          (click)="goBack()"
          class="text-handy-navy-600 hover:text-handy-navy-700 font-semibold transition-colors duration-200 underline decoration-2 underline-offset-2 hover:decoration-handy-yellow-400 inline-flex items-center justify-center gap-1"
        >
          <ion-icon name="arrow-back-outline" class="text-sm"></ion-icon>
          Back to Login
        </button>
      </div>
    </div>
  </div>
</ion-content>
